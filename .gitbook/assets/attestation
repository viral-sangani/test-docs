<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-validator/attestation">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Celo Attestation Service | Celo Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.celo.org/img/preview.png"><meta data-rh="true" name="twitter:image" content="https://docs.celo.org/img/preview.png"><meta data-rh="true" property="og:url" content="https://docs.celo.org/validator/attestation"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Celo Attestation Service | Celo Documentation"><meta data-rh="true" name="description" content="How to configure, run, and manage an attestation service as a Celo Validator."><meta data-rh="true" property="og:description" content="How to configure, run, and manage an attestation service as a Celo Validator."><link data-rh="true" rel="icon" href="/img/color-favicon.png"><link data-rh="true" rel="canonical" href="https://docs.celo.org/validator/attestation"><link data-rh="true" rel="alternate" href="https://docs.celo.org/validator/attestation" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.celo.org/es/validator/attestation" hreflang="es"><link data-rh="true" rel="alternate" href="https://docs.celo.org/pt/validator/attestation" hreflang="pt"><link data-rh="true" rel="alternate" href="https://docs.celo.org/validator/attestation" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://55M4I38S60-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Celo Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Celo Documentation Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0CXEKQ81V2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0CXEKQ81V2",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Celo Documentation" href="/opensearch.xml">
<script async defer="defer" id="hs-script-loader" src="//js.hs-scripts.com/8568019.js"></script>
<script defer="defer" src="https://cdn.usefathom.com/script.js" spa="auto" site="AZMFWALB"></script>






<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.697f23ca.css">
<link rel="preload" href="/assets/js/runtime~main.ca65f9cc.js" as="script">
<link rel="preload" href="/assets/js/main.7b80d792.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#18191A;color:#ffffff" role="banner"><div class="content_knG7 announcementBarContent_xLdY">ðŸŒ± Want to improve the docs? Give it a star on Github, <a target="_blank" rel="noopener noreferrer" href="https://github.com/celo-org/docs/issues/new">suggest an improvement</a>, or contribute as a <a target="_blank" rel="noopener noreferrer" href="/community/celo-sage">Celo Sage</a> ðŸŒ±</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Celo Logo" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="96"><img src="/img/logo-dark.png" alt="Celo Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="96"></div><b class="navbar__title text--truncate">Docs</b></a><a class="navbar__item navbar__link" href="/developer">Developers</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/validator">Validators</a><a class="navbar__item navbar__link" href="/integration">Integrations</a><a class="navbar__item navbar__link" href="/showcase">DApps</a><a class="navbar__item navbar__link" href="/tutorials">Tutorials</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/validator/attestation" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/es/validator/attestation" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">EspaÃ±ol</a></li><li><a href="/pt/validator/attestation" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">PortuguÃªs</a></li><li><a href="https://celo.crowdin.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help us translate</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Support</a><ul class="dropdown__menu"><li><a href="https://forum.celo.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">View the Forum</a></li><li><a href="https://github.com/celo-org/docs/issues/new" target="_blank" rel="noopener noreferrer" class="dropdown__link">Leave Feedback</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Libraries &amp; SDKs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cli">CLI</a></li><li><a href="https://celo-sdk-docs.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Celo SDK</a></li><li><a class="dropdown__link" href="/developer/react-celo">React-Celo</a></li><li><a class="dropdown__link" href="/developer/contractkit">ContractKit</a></li><li><a class="dropdown__link" href="/developer/rainbowkit-celo">Rainbowkit-Celo</a></li><li><a href="https://github.com/heymateag/celoiossdk" target="_blank" rel="noopener noreferrer" class="dropdown__link">iOS SDK</a></li><li><a href="https://github.com/blaize-tech/celo-sdk-java" target="_blank" rel="noopener noreferrer" class="dropdown__link">Java SDK</a></li><li><a href="https://github.com/blaize-tech/celo-sdk-py/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Python SDK</a></li><li><a href="https://github.com/celo-org/celo-composer#celo-composer" target="_blank" rel="noopener noreferrer" class="dropdown__link">Celo Composer</a></li></ul></div><a href="https://github.com/celo-org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/general"> General</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/wallet">Wallets</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/network">Networks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/developer">Developers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/integration">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/validator">Validators</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/validator">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/validator/run/mainnet">Run a Validator</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/validator/attestation">Attestation Service</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/validator/key-management/summary">Key Management</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/validator/security">Nodes and Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/validator/monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/validator/devops-best-practices">DevOps Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/validator/node-upgrade">Node Upgrades</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/validator/proxy">Running Proxies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/validator/validator-explorer">Validator Explorer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/validator/celo-foundation-voting-policy">Voting Policy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/validator/celo-signal">Celo Signal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/validator/troubleshooting-faq">Validator FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/holder">Holders</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/protocol">Protocol</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/protocol/bridge">Bridges</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/protocol/oracle">Oracles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/contract-addresses">Addresses</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/community/guidelines">Community</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Validators</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Attestation Service</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Attestation Service</h1><p>How to configure, run, and manage an attestation service as a Celo Validator.</p><hr><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>New update (as of January 2023)</div><div class="admonitionContent_S0QG"><p>Validators participating in the attestation protocol:</p><ul><li><strong>may turn off their Attestation Service instances immediately</strong> including any full nodes and SMS API subscriptions (i.e. Twilio, Nexmo, and MessageBird) supporting them</li><li><strong>should <a href="https://docs.celo.org/validator/key-management/detailed#authorizing-an-attestation-signer" target="_blank" rel="noopener noreferrer">remain attestation signers on-chain</a> until Q1 2023</strong> when a governance proposal will be voted on to make the Attestations contract read-only</li><li>more information on <a href="https://forum.celo.org/t/validator-guidance-attestation-protocol-asv1-next-steps/4957" target="_blank" rel="noopener noreferrer">forum post</a></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-an-attestation-service">What is an Attestation Service?<a class="hash-link" href="#what-is-an-attestation-service" title="Direct link to heading">â€‹</a></h2><p>The Attestation Service is part of the <a href="/protocol/identity">Celo identity protocol</a>. It sends SMS on behalf of users to allow them to attest to having access to a phone number and to map that to a Celo account, securely and privately. This is shown as Steps 3 and 4 in this diagram:</p><p><img loading="lazy" src="https://storage.googleapis.com/celo-website/docs/attestations-flow.jpg" class="img_ev3q"></p><p>Validators receive a fee (set by <a href="/holder/vote/governance">on-chain governance</a>, currently 0.05 cUSD) for every attestation that they process and that is then successfully redeemed on-chain by the user. Validators can claim and withdraw this fee using: <a href="/cli/identity#celocli-identitywithdraw-attestation-rewards"><code>celocli identity:withdraw-attestation-rewards</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="outline">Outline<a class="hash-link" href="#outline" title="Direct link to heading">â€‹</a></h2><p>This guide steps you through setting up an Attestation Service:</p><ul><li>Follow the instructions to set up a validator on <a href="/validator/run/mainnet">mainnet</a> or <a href="/validator/run/baklava">baklava</a></li><li>Configure Twilio, MessageBird and Nexmo, the SMS providers used by Attestation Service</li><li>Generate and register an attestation signer key</li><li>(for versions prior to 1.4.0) Deploy a Celo full node, with the attestation signer key unlocked</li><li>Deploy the attestation service</li><li>Configure and publish validator metadata so that clients can find your attestation service</li><li>Configure monitoring for the attestation service and the full node (if applicable)</li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>If you have any questions or feedback after reading the documentation, please feel free to share them with us on GitHub: <a href="https://github.com/celo-org/identity/discussions/categories/help-q-a" target="_blank" rel="noopener noreferrer">celo-org &gt; identity &gt; Discussions</a>. We will happily get back to you and</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="recent-releases">Recent releases<a class="hash-link" href="#recent-releases" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://github.com/celo-org/celo-monorepo/releases/tag/attestation-service-v1.5.0" target="_blank" rel="noopener noreferrer">Attestation Service v1.5.0</a> (latest production release)</li><li><a href="https://github.com/celo-org/celo-monorepo/releases/tag/attestation-service-v1.4.0" target="_blank" rel="noopener noreferrer">Attestation Service v1.4.0</a></li><li><a href="https://github.com/celo-org/celo-monorepo/releases/tag/attestation-service-v1.3.0" target="_blank" rel="noopener noreferrer">Attestation Service v1.3.0</a></li><li><a href="https://github.com/celo-org/celo-monorepo/releases/tag/attestation-service-v1.2.0" target="_blank" rel="noopener noreferrer">Attestation Service v1.2.0</a></li><li><a href="https://github.com/celo-org/celo-monorepo/releases/tag/attestation-service-v1.1.0" target="_blank" rel="noopener noreferrer">Attestation Service v1.1.0</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-architecture">Deployment Architecture<a class="hash-link" href="#deployment-architecture" title="Direct link to heading">â€‹</a></h2><p>Attestation Service needs to expose a HTTP or HTTPS endpoint to the public Internet. This means it should not be deployed on the same physical host as a Validator, which should be firewalled to allow incoming connections only from its proxy.</p><p>The <code>PORT</code> environment variable sets the listening port for the service on the local instance. Note that depending on your setup, this may be different from the port exposed to the public Internet.</p><p>Attestation Service exposes a HTTP endpoint, but it is strongly recommended that you adopt a setup that implements TLS. Attestation Service must expose the following routes to the public Internet: POST <code>/attestations</code>, POST <code>/test_attestations</code>, GET <code>/get_attestations</code>, POST <code>/delivery_status_nexmo</code>, (v1.5.0+) POST <code>/delivery_status_twilioverify</code>, (v1.5.0+) POST <code>/delivery_status_twiliomessaging</code>, (pre-v1.5.0) POST <code>/delivery_status_twilio</code>, and (v1.2.0+) GET (not POST) <code>/delivery_status_messagebird</code>. It should also expose GET <code>/status</code>. Optionally you may choose to expose GET <code>/healthz</code> and GET <code>/metrics</code>. Note that the URL provided in the validator metadata should not include any of these suffixes.</p><p>From Attestation Service version 1.4.0 onwards, there are two ways of deploying the Attestation Service. We recommend that new validators use the file keystore method (instead of using a Celo full node) for key management, and that existing validators eventually migrate to the new architecture.</p><p>An Attestation Service prior to version 1.4.0 is usually deployed alongside a Celo full node instance, which needs to have the attestation signer key unlocked. This can be either deployed on the same physical machine, or in a VM or container on a different host.</p><p>While it is still possible to use the full node method described below, from version 1.4.0 onwards, it is recommended to instead deploy the Attestation Service with access to a keystore file that encrypts the attestation signer key. This allows the service to sign attestations locally instead of depending on the separate full node instance to sign attestations. The passphrase for decrypting the keystore file must be passed in as an environment variable when starting up the Attestation Service. At least one Celo Provider (environment variable <code>CELO_PROVIDERS</code> (recommended) or <code>CELO_PROVIDER</code>) is currently still required, in order to connect to ContractKit and read necessary information from the chain. Listing a couple of providers is recommended, as if the first node is behind or syncing, the Attestation Service will use one of the backup nodes listed. More details on this are in the <a href="#recommended-running-the-attestation-service-v140">Running the Attestation Service v1.4.0+</a> section below. The new method of signing is expected to reduce Attestation Service errors due to the full node not being synced and generally reduce operating overhead.</p><p>The Attestation Service is a stateless service that uses a database to persist status of current and recently completed SMS delivery attempts. The most straightforward deployment architecture is to have a single machine or VM running three containers (two for versions 1.4.0 onwards): one the attestation service, a Celo Blockchain node (only for versions prior to 1.4.0), and a single database instance.</p><p>For a high availability setup, multiple instances can be deployed behind a load balancer and sharing a single database service. The load balancer should be configured with a round robin routing policy using the instances&#x27; <code>/healthz</code> endpoint as a healthcheck. Deploying a high availability database setup is beyond the scope of these instructions, but is straightforward with most cloud providers. In this setup, if a delivery report for an SMS issued by one instance is received by another instance, that instance can identify the matching record in the shared database and act on the receipt to resend if necessary.</p><p>Every record in the database includes the issuer (i.e. validator) in its key, so a single setup like the above can be used to provide attestations for multiple validators.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sms-providers">SMS Providers<a class="hash-link" href="#sms-providers" title="Direct link to heading">â€‹</a></h2><p>Currently the Attestation Service supports three SMS providers:</p><ul><li><a href="https://www.twilio.com/try-twilio" target="_blank" rel="noopener noreferrer">Twilio</a><ul><li>from v1.5.0, the Attestation Service treats the Twilio Messaging Service (<code>twiliomessaging</code>) and the Twilio Verify API (<code>twilioverify</code>) as separate providers.</li></ul></li><li><a href="https://dashboard.nexmo.com/sign-up" target="_blank" rel="noopener noreferrer">Nexmo</a></li><li><a href="https://messagebird.com/en/" target="_blank" rel="noopener noreferrer">MessageBird</a> (from version 1.2.0 and later)</li></ul><p>It is recommended that you sign up with all three.</p><p>See the <a href="#configuration">Configuration</a> section for information about how to specify configuration options.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="twilio">Twilio<a class="hash-link" href="#twilio" title="Direct link to heading">â€‹</a></h3><p>After you sign up for Twilio at <a href="https://www.twilio.com/try-twilio" target="_blank" rel="noopener noreferrer">https://www.twilio.com/try-twilio</a>, you should see your <code>ACCOUNT SID</code> and your <code>AUTH_TOKEN</code> in the top right of the console. You&#x27;ll also want to enter in a credit card to fund the account. For most text messages, the costs are typically very low (and significantly lower than the attestation fee paid by the user). Find a more comprehensive price list at <a href="https://www.twilio.com/sms/pricing" target="_blank" rel="noopener noreferrer">https://www.twilio.com/sms/pricing</a>. If there are countries that you do not want to serve, you can specify them with the <code>TWILIO_UNSUPPORTED_REGIONS</code> configuration option.</p><p>Next, adjust the Geo settings to serve phone numbers globally under <a href="https://www.twilio.com/console/sms/settings/geo-permissions" target="_blank" rel="noopener noreferrer">https://www.twilio.com/console/sms/settings/geo-permissions</a>. Otherwise, the service will not be able to send SMS to Celo&#x27;s global user base and your validator will negatively impact the Celo user experience.</p><p>To actually be able to send SMS, you need to create a messaging service under <a href="https://www.twilio.com/console/sms/services" target="_blank" rel="noopener noreferrer">Programmable SMS &gt; SMS</a>. Provide the resulting <code>SID</code> in the <code>TWILIO_MESSAGING_SERVICE_SID</code> configuration variable.</p><p>Now that you have provisioned your messaging service, you need to buy at least 1 phone number to send SMS from. You can do so under the <code>Numbers</code> option of the messaging service page. It is strongly recommended that you purchase at least a US (<code>+1</code>) number which seem to provide high delivery success rates. If you purchase numbers in other locales, Twilio will intelligently select the best number to send each SMS.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="verify-service-post-v140">Verify Service (post v1.4.0)<a class="hash-link" href="#verify-service-post-v140" title="Direct link to heading">â€‹</a></h4><p>We&#x27;re in the process of transitioning to <a href="https://www.twilio.com/verify" target="_blank" rel="noopener noreferrer">Twilio&#x27;s Verify Service</a> which will automatically manage a set of phone numbers for global reach. Create a Verify Service in the Twilio Portal by navigating to <a href="https://www.twilio.com/console/verify/services" target="_blank" rel="noopener noreferrer">Verify</a> and click <code>+</code> to create a new service. It&#x27;s important to provide <code>Celo</code> as the service friendly name, since this will show up in the text message content.</p><ol><li>Set the code length to <code>8 digits</code>.</li><li>Enter <code>sell-oh</code> in the <code>TTS SERVICE NAME</code>.</li><li>Enable <code>SMS</code>, <code>CALL</code>, and <code>EMAIL</code> delivery channels.</li></ol><p>After you create the Verify Service, you <strong><a href="https://www.twilio.com/console/support/tickets/create" target="_blank" rel="noopener noreferrer">must create a support ticket</a></strong> to enable the <code>custom code</code> feature. Provide Twilio support your new Verify SID and request enabling the <code>custom code</code> feature. Please monitor for a response and respond to any follow up questions.</p><p>Support ticket request template</p><blockquote><p>Hello, I&#x27;d like to enable custom codes for our Verify API with SID {YOUR_VERIFY_SID}. I understand that we will be charged on each attempted user verification.</p></blockquote><p>After Twilio enables custom codes, you&#x27;ll see the following property in the Twilio dashboard when viewing your Verify Service:</p><p><img loading="lazy" src="https://storage.googleapis.com/celo-website/docs/custom-code.png" alt="Custom Code Property" class="img_ev3q"></p><p>Once you have confirmation that custom codes are enabled on your Twilio account, you can provide the resulting <code>SID</code> in the <code>TWILIO_VERIFY_SERVICE_SID</code> configuration variable and start the service. Since there are a few countries for which the Messaging Service consistently outperforms the Verify Service (and vice versa), from version v1.5.0 onwards, we treat the Messaging and Verify services as separate SMS providers which can be specified as <code>twiliomessaging</code> and <code>twilioverify</code>, respectively. These providers can be specified on a per-country basis; that is, you could specify the Messaging Service to be used for a particular country by setting <code>SMS_PROVIDERS_X=twiliomessaging,nexmo,...</code>. (Note that <code>twilio</code> will continue to work as shorthand for <code>twiliomessaging,twilioverify</code>, to maintain backwards compatibility.)</p><p>For sending messages to the US, we recommend using the Twilio Verify API(provider: <code>twilioverify</code>) as opposed to the Messaging Service in order to comply with 10DLC regulations (this can be specified in the <code>SMS_PROVIDERS_US</code> variable). Otherwise, you may need to <a href="https://support.twilio.com/hc/en-us/articles/1260801864489-How-do-I-register-to-use-A2P-10DLC-messaging-" target="_blank" rel="noopener noreferrer">register your brand</a> in order to avoid fees.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nexmo">Nexmo<a class="hash-link" href="#nexmo" title="Direct link to heading">â€‹</a></h3><p>After signing up for <a href="https://dashboard.nexmo.com/sign-up" target="_blank" rel="noopener noreferrer">Nexmo</a>, click the balance in the top-left to go to <a href="https://dashboard.nexmo.com/billing-and-payments" target="_blank" rel="noopener noreferrer">Billing and Payments</a>, where you can add funds. It is strongly recommended that you use a credit or debit card (as opposed to other forms of payment) as you will then be able to enable <code>Auto reload</code>. You should also enable <code>Low balance alerts</code>. Both of these will help avoid failing to deliver SMS when your funds are exhausted. It appears that these options may not be immediately available for all new accounts due to fraud checks: try sending a few SMS, checking back after a few days, or raising a support ticket.</p><p>Under <a href="https://dashboard.nexmo.com/your-numbers" target="_blank" rel="noopener noreferrer">Your Numbers</a>, create a US number and ensure that is enabled for SMS; this number will be used to send <em>international</em> text messages. Note that Nexmo numbers appear to have a rate limit of 250 SMS per day. We recommend configuring your Attestation Service to <strong>not</strong> use Nexmo to serve the US (i.e. remove <code>nexmo</code> in <code>SMS_PROVIDERS_US</code>). If you still want to do so, please configure a US toll-free number according to the <a href="https://www.notion.so/clabsco/10DLC-Guidance-6f23dcff502f45b4afae02254c629c61#94d870c4f85745039d4141a5343232a2" target="_blank" rel="noopener noreferrer">guidance here</a> and ensure that your Attestation Service is running at <code>v1.2.2+</code>.</p><p>Under <a href="https://dashboard.nexmo.com/settings" target="_blank" rel="noopener noreferrer">Settings</a>, copy the API key into the environment variable <code>NEXMO_KEY</code>, and API secret into <code>NEXMO_SECRET</code>.</p><p>If you wish to partition the numbers used within this account, you may choose to create and configure a <a href="https://dashboard.nexmo.com/applications/" target="_blank" rel="noopener noreferrer">Nexmo application</a> for each one. In each application, enable messaging (labeled as <code>Communicate with WhatsApp, Facebook Messenger, MMS and Viber</code>) and assign a number. Copy each application&#x27;s <code>Application Id</code> value into the appropriate instance&#x27;s <code>NEXMO_APPLICATION</code> configuration value. There is no need to generate or use a public/private keypair. By default an Attestation Service will pick a number from the global pool of numbers not linked to a specific Nexmo application. The only effect of supplying <code>NEXMO_APPLICATION</code> is to select numbers from those linked to that application.</p><p>Note that from version 1.2.0, the Attestation Service no longer requires callback URLs to be supplied in the Nexmo dashboard. This means one can support multiple Attestation Services using a single account. However to receive the delivery receipts from Nexmo, it is important to update the default HTTP method in the Nexmo dashboard to <code>POST-JSON</code> (see image below or follow the <a href="https://help.nexmo.com/hc/en-us/articles/206345667" target="_blank" rel="noopener noreferrer">instructions here</a>), since the Attestation Service currently expects POST requests routed to the <code>/delivery_status_nexmo</code> endpoint.</p><p><img loading="lazy" src="https://storage.googleapis.com/celo-website/nexmo-post-json-default-1.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="messagebird">MessageBird<a class="hash-link" href="#messagebird" title="Direct link to heading">â€‹</a></h3><p>MessageBird support is introduced in version 1.2.0 and later. After signing up for <a href="https://messagebird.com/en/" target="_blank" rel="noopener noreferrer">MessageBird</a>, locate the <code>Your API Keys</code> section on the <a href="https://dashboard.messagebird.com/en/user/index" target="_blank" rel="noopener noreferrer">Dashboard</a>, click <code>Show</code> next to the <code>Live</code> key, and copy its value into the <code>MESSAGEBIRD_API_KEY</code> configuration variable. Click <code>Top Up</code> to add credit. MessageBird requires a dedicated number and/or KYC approval to send SMS to certain countries that validators must support. Click <code>Numbers</code> then <a href="https://dashboard.messagebird.com/en/numbers/buy/search" target="_blank" rel="noopener noreferrer">Buy Number</a> to purchase a number. You will need to purchase separate numbers for both the USA (see below) and Canada. Then visit <a href="https://dashboard.messagebird.com/en/settings/sms" target="_blank" rel="noopener noreferrer">SMS Settings</a> and request approval to send to these countries. You can find guidance on filling in the required information <a href="https://www.notion.so/clabsco/SMS-Provider-Validator-Support-Template-e168d45219e844e8a826c1ccefb5a06a" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Due to 10DLC regulations from 2021, we now recommend setting up a toll-free number to serve US numbers. Please see <a href="https://www.notion.so/clabsco/10DLC-Guidance-6f23dcff502f45b4afae02254c629c61#455a4f8fcdc04804b2542b463e4e59c4" target="_blank" rel="noopener noreferrer">this page</a> for more guidance on how to request a toll-free number and how to fill out the necessary form. If you do not set up a toll-free number, you must either register your brand according to the <a href="https://support.messagebird.com/hc/en-us/articles/208747865-United-States#h_01FEBCSJKT19C5BB7VPP07XJDD" target="_blank" rel="noopener noreferrer">instructions here</a> OR remove <code>messagebird</code> from your configuration of <code>SMS_PROVIDERS_US</code>.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Failure to comply with 10DLC regulations in the US can potentially result in fines or blocked traffic.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a class="hash-link" href="#installation" title="Direct link to heading">â€‹</a></h2><p>Where necessary, the instructions will differentiate between pre-v1.4.0 (Celo full node for key management) and v1.4.0+ (recommended use of keystore files for key management). This section uses several environment variables defined during the validator setup. You&#x27;ll need to export <code>CELO_IMAGE</code> and <code>CELO_VALIDATOR_RG_ADDRESS</code> on this machine.</p><p>Setting up an Attestation Service first requires an <a href="/validator/key-management/detailed#authorized-attestation-signers">Attestation Signer key</a> to be registered (Similar to Validator and Vote signer keys). For that let&#x27;s start our node on the Attestations machine (keep track of the password you use for this account):</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># On the Attestation machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> run -v </span><span class="token environment constant" style="color:rgb(189, 147, 249)">$PWD</span><span class="token plain">:/root/.celo --rm -it </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_IMAGE</span><span class="token plain"> account new</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CELO_ATTESTATION_SIGNER_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">YOUR-ATTESTATION-SIGNER-ADDRESS</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s generate the proof-of-possession for the attestation signer:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># On the Attestation machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> run -v </span><span class="token environment constant" style="color:rgb(189, 147, 249)">$PWD</span><span class="token plain">:/root/.celo --rm -it </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_IMAGE</span><span class="token plain"> account proof-of-possession </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_ATTESTATION_SIGNER_ADDRESS</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_VALIDATOR_RG_ADDRESS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With this proof, authorize the attestation signer on your local machine:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># On your local machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CELO_ATTESTATION_SIGNER_SIGNATURE</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">ATTESTATION-SIGNER-SIGNATURE</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CELO_ATTESTATION_SIGNER_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">YOUR-ATTESTATION-SIGNER-ADDRESS</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">celocli releasegold:authorize --contract </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_VALIDATOR_RG_ADDRESS</span><span class="token plain"> --role attestation --signature 0x</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_ATTESTATION_SIGNER_SIGNATURE</span><span class="token plain"> --signer </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_ATTESTATION_SIGNER_ADDRESS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-key-management">Configuring Key Management<a class="hash-link" href="#configuring-key-management" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="recommended-v140---using-keystore-files">(recommended) v1.4.0+ - Using Keystore Files<a class="hash-link" href="#recommended-v140---using-keystore-files" title="Direct link to heading">â€‹</a></h4><p>It is no longer necessary to run a full node alongside the Attestation Service. Instead, save the path to the keystore directory generated above and the password used when creating the <code>CELO_ATTESTATION_SIGNER_ADDRESS</code> above, as you will need these when running the service:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">export KEYSTORE_PARENT_DIR=$PWD</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo &lt;CELO-ATTESTATION-SIGNER-PASSWORD&gt; &gt; $KEYSTORE_PARENT_DIR/.password</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, follow the instructions in the <a href="#running-the-attestation-service">Running the Attestation Service</a> section below.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pre-v140---using-celo-full-node">pre-v1.4.0 - Using Celo Full Node<a class="hash-link" href="#pre-v140---using-celo-full-node" title="Direct link to heading">â€‹</a></h4><p>You can now run the node for the attestation service in the background with the following command. Remember to specify the password you used during the creation of the <code>CELO_ATTESTATION_SIGNER_ADDRESS</code>. And, if you want to run the attestation service for Baklava, add the <code>--baklava</code> flag.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># On the Attestation machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">CELO-ATTESTATION-SIGNER-PASSWORD</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> .password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> run --name celo-attestations -it --restart always --stop-timeout </span><span class="token number">300</span><span class="token plain"> -p </span><span class="token number">127.0</span><span class="token plain">.0.1:8545:8545 -v </span><span class="token environment constant" style="color:rgb(189, 147, 249)">$PWD</span><span class="token plain">:/root/.celo </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_IMAGE</span><span class="token plain"> --verbosity </span><span class="token number">3</span><span class="token plain"> --syncmode full --http --http.addr </span><span class="token number">0.0</span><span class="token plain">.0.0 --http.api eth,net,web3,debug,admin --unlock </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_ATTESTATION_SIGNER_ADDRESS</span><span class="token plain"> --password /root/.celo/.password --allow-insecure-unlock</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="database-configuration">Database Configuration<a class="hash-link" href="#database-configuration" title="Direct link to heading">â€‹</a></h3><p>For storing and retrieving the attestation requests the service needs a database to persist that information. Currently <code>sqlite</code>, <code>postgres</code> and <code>mysql</code> are supported. For testing purposes you can use <code>sqlite</code> but it&#x27;s recommended to run a stand-alone database server using <code>mysql</code> or <code>postgres</code> if your intention is running the Attestation Service in a production environment. If you are running on a popular cloud provider, consider using their hosted SQL services.</p><p>Depending on your database technology you need to create a database with the access for a specific user and password.</p><p>For specifying the database url you need to setup the <code>DATABASE_URL</code> variable in one of these ways:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># On the Attestation machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">DATABASE_URL</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sqlite://db/attestation.db&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">DATABASE_URL</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;mysql://user:password@mysql.example.com:3306/attestation-service&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">DATABASE_URL</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;postgres://user:password@postgres.example.com:5432/attestation-service&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Example of setting up a local postgres database on Ubuntu</strong>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> postgresql</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> -u postgres createdb attestation-service</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> -u postgres psql -c </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ALTER USER postgres PASSWORD &#x27;&lt;DATABASE_PASSWORD&gt;&#x27;;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">DATABASE_URL</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;postgres://postgres:&lt;DATABASE_PASSWORD&gt;@localhost:5432/attestation-service&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">â€‹</a></h2><p>Attestation Service can use its config from a file that can be specified using <code>CONFIG</code> environment variable. We <strong>highly recommend</strong> that you start by using the <a href="https://github.com/celo-org/celo-monorepo/blob/master/packages/attestation-service/config/.env.development" target="_blank" rel="noopener noreferrer">template Attestation Service config file</a>, which contains up-to-date, sensible defaults especially for <code>SMS_PROVIDERS_&lt;country&gt;</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Choose a location for the config and fetch the defaults</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CONFIG</span><span class="token operator">=</span><span class="token plain">/path/to/attestation-service-config</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> https://raw.githubusercontent.com/celo-org/celo-monorepo/master/packages/attestation-service/config/.env.development </span><span class="token operator">&gt;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CONFIG</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Lines beginning <code>#</code> are treated as comments. In addition, any options specified as environment variables override values provided in this file.</p><p>Required options:</p><table><thead><tr><th>Variable</th><th>Explanation</th></tr></thead><tbody><tr><td><code>DATABASE_URL</code></td><td>The URL to access the local database, e.g. <code>sqlite://db/attestations.db</code></td></tr><tr><td><code>CELO_PROVIDERS</code></td><td>(v1.4.0+) Recommended over <code>CELO_PROVIDER</code>; only one of the two may be used. A list of prioritized Celo node URLs used to connect to the chain. 2-3 providers are recommended.</td></tr><tr><td><code>CELO_PROVIDER</code></td><td>(required pre-v1.4.0; not recommended v1.4.0+) The node URL for your local full node at which your attestation signer key is unlocked. e.g. <code>http://localhost:8545</code>. Do not expose this port to the public internet! (v1.4.0+ optional) node URL for the Celo node used to connect to the chain.</td></tr><tr><td><code>CELO_VALIDATOR_ADDRESS</code></td><td>Address of the Validator account. If Validator is deployed via a <code>ReleaseGold</code> contract, this is the contract&#x27;s address (i.e. <code>$CELO_VALIDATOR_RG_ADDRESS</code>), not the beneficiary.</td></tr><tr><td><code>ATTESTATION_SIGNER_ADDRESS</code></td><td>Address of the Validator&#x27;s attestation signer key</td></tr><tr><td><code>SMS_PROVIDERS</code></td><td>Comma-separated list of all enabled SMS providers. Can include <code>twilio</code>, <code>nexmo</code>. From v1.2.0, can include <code>messagebird</code>. It is recommended to list <code>nexmo</code> last if it is configured. From v1.5.0, can include <code>twiliomessaging</code> and <code>twilioverify</code> instead of <code>twilio</code>. Providers are tried from first to last, unless <code>SMS_PROVIDERS_RANDOMIZED</code> is set to <code>1</code>, in which case they are tried in a random order.</td></tr><tr><td></td><td></td></tr></tbody></table><p>Optional environment variables:</p><table><thead><tr><th>Variable</th><th>Explanation</th></tr></thead><tbody><tr><td><code>ATTESTATION_SIGNER_KEYSTORE_DIRPATH</code></td><td>(v1.4.0+) Path to the <code>keystore</code> directory containing the encrypted <code>ATTESTATION_SIGNER_ADDRESS</code>&#x27;s private key. Must be used with <code>ATTESTATION_SIGNER_KEYSTORE_PASSPHRASE</code>.</td></tr><tr><td><code>ATTESTATION_SIGNER_KEYSTORE_PASSPHRASE</code></td><td>(v1.4.0+) Passphrase used to encrypt <code>ATTESTATION_SIGNER_ADDRESS</code>&#x27;s keystore file. Must be used with <code>ATTESTATION_SIGNER_KEYSTORE_DIRPATH</code></td></tr><tr><td><code>PORT</code></td><td>Port to listen on. Default <code>3000</code>.</td></tr><tr><td><code>RATE_LIMIT_REQS_PER_MIN</code></td><td>(v1.2.0+) Requests per minute over all endpoints before new requests are rate limited. Default <code>100</code>.</td></tr><tr><td><code>SMS_PROVIDERS_&lt;country&gt;</code></td><td>Override to set SMS providers and order for a specific country code (e.g <code>SMS_PROVIDERS_MX=nexmo,twilio</code>). We <strong>highly recommend</strong> using the <a href="https://github.com/celo-org/celo-monorepo/blob/master/packages/attestation-service/config/.env.development#L21" target="_blank" rel="noopener noreferrer">default configuration file</a> as a base and then making changes accordingly.</td></tr><tr><td><code>SMS_PROVIDERS_RANDOMIZED</code></td><td>(v1.2.0+) If set to <code>1</code> and no country-specific providers are configured for the country of the number being requested, randomize the order of the default providers. Default <code>0</code>. Note: setting this to <code>1</code> is only recommended if you <em>do not</em> have Vonage/Nexmo configured as a provider.</td></tr><tr><td><code>MAX_DELIVERY_ATTEMPTS</code></td><td>Number of total delivery attempts when sending SMS. Each attempt tries the next available provider in the order specified. If omitted, the deprecated <code>MAX_PROVIDER_RETRIES</code> option will be used. Default value is <code>3</code>.</td></tr><tr><td><code>MAX_REREQUEST_MINS</code></td><td>Number of minutes during which the client can rerequest the same attestation. Default value is <code>55</code>.</td></tr><tr><td><code>EXTERNAL_CALLBACK_HOSTPORT</code></td><td>Provide the full external URL at which the service can be reached, usually the same as the value of the <code>ATTESTATION_SERVICE_URL</code> claim in your metadata. This value, plus a suffix e.g. <code>/delivery_status_twilioverify</code> will be the URL at which service can receive delivery receipt callbacks. If this value is not set, and <code>VERIFY_CONFIG_ON_STARTUP=1</code> (the default), the URL will be taken from the validator metadata. Otherwise, it must be supplied.</td></tr><tr><td><code>VERIFY_CONFIG_ON_STARTUP</code></td><td>Refuse to start if signer or metadata is misconfigured. Default <code>1</code>. If you disable this, you must specify <code>EXTERNAL_CALLBACK_HOSTPORT</code>.</td></tr><tr><td><code>MAX_AGE_LATEST_BLOCK_SECS</code></td><td>(v1.2.0+) Maximum age of the latest received block, in seconds, before the health check reports failure. Default is <code>20</code>.</td></tr><tr><td><code>GET_BLOCK_TIMEOUT_MS</code></td><td>(v1.4.0+) Maximum time in milliseconds to wait after fetching the latest block from a connection, before it times out. Default is <code>500 ms</code>.</td></tr><tr><td><code>DISABLE_SMART_FALLBACK</code></td><td>(v1.4.0+) If <code>true</code>, does not attempt to select the most up-to-date provider for each call, but will still retry failed calls with the backup(s). Default is <code>false</code>.</td></tr><tr><td><code>DB_RECORD_EXPIRY_MINS</code></td><td>Time in minutes before a record of an attestation in the database may be deleted. Default 60 minutes.</td></tr><tr><td><code>LOG_LEVEL</code></td><td>One of <code>fatal</code>, <code>error</code>, <code>warn</code>, <code>info</code>, <code>debug</code>, <code>trace</code></td></tr><tr><td><code>LOG_FORMAT</code></td><td>One of <code>json</code>, <code>human</code>, <code>stackdriver</code></td></tr><tr><td><code>APP_SIGNATURE</code></td><td>A value that is shown under the key <code>appSignature</code> field in the <code>/status</code> endpoint that you can use to identify multiple instances.</td></tr></tbody></table><p>Twilio configuration options:</p><table><thead><tr><th>Variable</th><th>Explanation</th></tr></thead><tbody><tr><td><code>TWILIO_ACCOUNT_SID</code></td><td>The Twilio account ID</td></tr><tr><td><code>TWILIO_MESSAGING_SERVICE_SID</code></td><td>The Twilio Message Service ID. Starts with <code>MG</code></td></tr><tr><td><code>TWILIO_VERIFY_SERVICE_SID</code></td><td>The Twilio Verify Service ID. Starts with <code>VA</code></td></tr><tr><td><code>TWILIO_AUTH_TOKEN</code></td><td>The API authentication token</td></tr><tr><td><code>TWILIO_UNSUPPORTED_REGIONS</code></td><td>Optional. A comma-separated list of country codes to not serve, recommended value <code>CU,SY,KP,IR,SD</code></td></tr></tbody></table><p>Nexmo configuration options:</p><table><thead><tr><th>Variable</th><th>Explanation</th></tr></thead><tbody><tr><td><code>NEXMO_KEY</code></td><td>The API key to the Nexmo API</td></tr><tr><td><code>NEXMO_SECRET</code></td><td>The API secret to the Nexmo API</td></tr><tr><td><code>NEXMO_APPLICATION</code></td><td>Optional. Use only numbers linked to the Nexmo application with matching ID, rather than the global pool.</td></tr><tr><td><code>NEXMO_UNSUPPORTED_REGIONS</code></td><td>Optional. A comma-separated list of country codes to not serve, recommended value <code>CU,SY,KP,IR,SD</code></td></tr><tr><td><code>NEXMO_ACCOUNT_BALANCE_METRIC</code></td><td>Optional. Disabled by default. If set to <code>1</code>, Nexmo balances will be published under the <code>attestation_provider_balance</code> metric.</td></tr></tbody></table><p>MessageBird configuration options (v1.2.0+):</p><table><thead><tr><th>Variable</th><th>Explanation</th></tr></thead><tbody><tr><td><code>MESSAGEBIRD_API_KEY</code></td><td>The API key to the MessageBird API</td></tr><tr><td><code>MESSAGEBIRD_UNSUPPORTED_REGIONS</code></td><td>Optional. A comma-separated list of country codes to not serve, recommended value <code>CU,SY,KP,IR,SD</code></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="registering-metadata">Registering Metadata<a class="hash-link" href="#registering-metadata" title="Direct link to heading">â€‹</a></h2><p>Celo uses <a href="/protocol/identity/metadata">Metadata</a> to allow accounts to make certain claims without having to do so on-chain. Users can use any authorized signer address to make claims on behalf of the registered Account. For convenience this guide uses the <code>CELO_ATTESTATION_SIGNER_ADDRESS</code>, but any authorized signer will work. Note that metadata needs recreating if the key signing it is changed; it is recommended not to use the validator signer address since that key is typically rotated more regularly.</p><p>To complete the metadata process, we have to claim which URL users can request attestations from. Run the following commands on your local machine. This section uses several environment variables defined during the validator setup.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># On your local machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">celocli account:create-metadata ./metadata.json --from </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_VALIDATOR_RG_ADDRESS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>CELO_ATTESTATION_SERVICE_URL</code> variable stores the URL to access the Attestation Service deployed. In the following command we specify the URL where this Attestation Service is. Note that the URL provided in the validator metadata should be the base path at which the service is accessible; it should NOT include <code>/attestations</code>.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># On your local machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">celocli account:claim-attestation-service-url ./metadata.json --url </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_ATTESTATION_SERVICE_URL</span><span class="token plain"> --from </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_ATTESTATION_SIGNER_ADDRESS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should now host your metadata somewhere reachable via HTTPS. You can use a service like <a href="https://gist.github.com" target="_blank" rel="noopener noreferrer">gist.github.com</a>. Create a gist with the contents of the file and then click on the <code>Raw</code> button to receive the permalink to the machine-readable file.</p><p>Now we can register this url for others to see. To do this, we must have the <code>beneficiary</code> address of the <code>ReleaseGold</code> contract (<code>CELO_VALIDATOR_ADDRESS</code>) unlocked.</p><p>(Note: If you used a Ledger to create the <code>beneficiary</code> address, add the <code>--useLedger</code> flag and possibly the <code>--ledgerAddresses=N</code> flag to the below command. The latter flag will have the ledger check N number of addresses, e.g. <code>--ledgerAddresses=5</code> would have the Ledger check 5 addresses. Don&#x27;t forget to confirm the transaction on your Ledger after initiating it via the CLI.)</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># On your local machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">celocli releasegold:set-account --contract </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_VALIDATOR_RG_ADDRESS</span><span class="token plain"> --property metaURL --value </span><span class="token operator">&lt;</span><span class="token plain">METADATA_URL</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If everything goes well users should be able to see your claims by running:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># On your local machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">celocli account:get-metadata </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_VALIDATOR_RG_ADDRESS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-attestation-service">Running the Attestation Service<a class="hash-link" href="#running-the-attestation-service" title="Direct link to heading">â€‹</a></h2><p>There is a slight difference in starting up the service depending on the keystore management option (keystore files, full node) used, and both of these are described below.</p><p>Before running the Attestation Service using either method, ensure that the metadata has been registered.</p><p>Both of the following options for running the Attestation Service use <code>--network host</code> to access a local database (only works on Linux), and listen for connections on port 80.</p><p>They both assume that all of the configuration options needed have been added to the config file located under <code>$CONFIG</code> which Docker will process. Alternatively, you can pass the config file for the service to read on startup using <code>-e CONFIG=&lt;docker-path-to-config-file&gt;</code>, and other environment variables directly by adding arguments of the form <code>-e DATABASE_URL=$DATABASE_URL</code>.</p><p>For both options below, set the <code>TAG</code> environment variable to determine which image to install. Use <code>attestation-service-mainnet</code> for the latest image suitable for mainnet (as below), <code>attestation-service-baklava</code> for the latest image suitable for baklava, or specify a specific build as given in the release notes linked above.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recommended-running-the-attestation-service-v140">(recommended) Running the Attestation Service v1.4.0+<a class="hash-link" href="#recommended-running-the-attestation-service-v140" title="Direct link to heading">â€‹</a></h3><p>The main difference between the old method of running the Attestation Service alongside a Celo full node is that you will need to ensure that Docker can access the directory containing the <code>keystore</code> which stores the <code>CELO_ATTESTATION_SIGNER_ADDRESS</code>&#x27;s private key as an encrypted file. Here, <code>keystore</code> just means a directory (usually titled &quot;keystore&quot;) that contains ONLY keystore files (files that contain the password-encrypted private key in a particular format). This directory and files are automatically created by geth when importing private keys (see <a href="#recommended-v140---using-keystore-files">Using Keystore Files</a>, and can be used here.</p><p>To do this, you need to map the directory containing the <code>keystore</code> to the Attestation Service&#x27;s Docker volume and set the environment variable <code>ATTESTATION_SIGNER_KEYSTORE_DIRPATH</code> to the path to this directory relative to the Docker container. You will also need to set the environment variable <code>ATTESTATION_SIGNER_KEYSTORE_PASSPHRASE</code> to the password used during the creation of the <code>CELO_ATTESTATION_SIGNER_ADDRESS</code>.</p><p>Additionally, ensure that the <code>CELO_PROVIDERS</code> environment variable points to at least one (recommended: 2-3 in total) Celo node that can be used to instantiate ContractKit; this can be a separate full node or, depending on your configuration, your validator proxy node. The <code>CELO_PROVIDERS</code> environment variable is a comma separated value list (ex. <code>CELO_PROVIDERS=http://127.0.0.1:8545,https://forno.celo.org</code>). To use your validator proxy node, you would need to allow RPC access, but for security reasons, ensure that this is locked down only to the Attestation Service. Alternatively, provide the endpoint to a Celo node that you run or to a node service provider like Figment Datahub. When passing in multiple providers to this environment variable, prioritize this list by the order in which they should be used to retry failed calls. Unless <code>DISABLE_SMART_FALLBACK</code> is set, the Attestation Service will also attempt to select and use the most up-to-date connection for each call.</p><p>The command below illustrates what this could look like, if you used the command <code>docker run -v $PWD:/root/.celo --rm -it $CELO_IMAGE account new</code> from earlier in the instructions above to create the <code>CELO_ATTESTATION_SIGNER_ADDRESS</code>. Recall that you set <code>KEYSTORE_PARENT_DIR</code> to the working directory (<code>$PWD</code>) during the instructions above, and saved the password to the file <code>KEYSTORE_PARENT_DIR/.password</code>. <strong>Note that <code>$KEYSTORE_PARENT_DIR/keystore</code> must contain ONLY keystore files (no sub-directories or other file types).</strong> Environment variables can be set either in the <code>$CONFIG</code> file or passed into the <code>docker run</code> command directly using the <code>-e</code> flag. (In this example, two of these variables are passed in via the <code>-e</code> flag for clarity.)</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># We will map $KEYSTORE_PARENT_DIR:DOCKER_VOLUME_PATH later</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export VOLUME_DIRPATH=/root/.celo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># On the Attestation machine</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export TAG=attestation-service-mainnet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run --name celo-attestation-service -it --restart always --entrypoint /bin/bash --network host --env-file $CONFIG -v $KEYSTORE_PARENT_DIR:$VOLUME_DIRPATH -e PORT=80 -e ATTESTATION_SIGNER_KEYSTORE_PASSPHRASE=$(cat $KEYSTORE_PARENT_DIR/.password) -e ATTESTATION_SIGNER_KEYSTORE_DIRPATH=$VOLUME_DIRPATH -p 80:80 us.gcr.io/celo-testnet/celo-monorepo:$TAG -c &quot; cd /celo-monorepo/packages/attestation-service &amp;&amp; yarn run db:migrate &amp;&amp; yarn start &quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-attestation-service-pre-v140">Running the Attestation Service pre-v1.4.0<a class="hash-link" href="#running-the-attestation-service-pre-v140" title="Direct link to heading">â€‹</a></h3><p>First, ensure that your local node is fully synced:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># On the Attestation machine, if using a Celo full node for key management</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> celocli node:synced --node geth.ipc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, start the Attestation Service by running:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># On the Attestation machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TAG</span><span class="token operator">=</span><span class="token plain">attestation-service-mainnet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> run --name celo-attestation-service -it --restart always --entrypoint /bin/bash --network </span><span class="token function" style="color:rgb(80, 250, 123)">host</span><span class="token plain"> --env-file </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CONFIG</span><span class="token plain"> -e </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PORT</span><span class="token operator">=</span><span class="token number">80</span><span class="token plain"> -p </span><span class="token number">80</span><span class="token plain">:80 us.gcr.io/celo-testnet/celo-monorepo:</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$TAG</span><span class="token plain"> -c </span><span class="token string" style="color:rgb(255, 121, 198)">&quot; cd /celo-monorepo/packages/attestation-service &amp;&amp; yarn run db:migrate &amp;&amp; yarn start &quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="delivery-receipts">Delivery Receipts<a class="hash-link" href="#delivery-receipts" title="Direct link to heading">â€‹</a></h3><p>Attestation Services supports delivery receipts so that SMS providers can callback to provide delivery information. This triggers retries as needed, even between providers, and enables delivery success and timing metrics to be logged and made accessible to the client.</p><p>There is no configuration necessary to enable Twilio or Nexmo delivery receipts. The Attestation Service uses the URL in the validator metadata, provided that <code>VERIFY_CONFIG_ON_STARTUP</code> is enabled. The URL for callbacks can always be specified with the <code>EXTERNAL_CALLBACK_HOSTPORT</code> configuration option. The service appends <code>/delivery_status_{PROVIDER}</code> (i.e. <code>/delivery_status_twilioverify</code>) on to the URL, and supplies that to the provider through its API.</p><p>For MessageBird, provide the callback URL (be sure to include <code>/delivery_status_messagebird</code>) in the MessageBird dashboard&#x27;s <a href="https://dashboard.messagebird.com/en/developers/settings" target="_blank" rel="noopener noreferrer">API Settings</a> page.</p><p>If you are using a load balancer in front of Attestation Service with a URL based routing configuration, be careful to prevent these routes being filtered.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-endpoint">Test Endpoint<a class="hash-link" href="#test-endpoint" title="Direct link to heading">â€‹</a></h3><p>Attestation Service provides a test endpoint.</p><p>You can run the following command <a href="/cli/identity#celocli">reference</a> to test an Attestation Service and send an SMS to yourself:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">celocli identity:test-attestation-service --from </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CELO_ATTESTATION_SIGNER_ADDRESS</span><span class="token plain"> --phoneNumber </span><span class="token operator">&lt;</span><span class="token plain">YOUR-PHONE-NUMBER-E164-FORMAT</span><span class="token operator">&gt;</span><span class="token plain"> --message </span><span class="token operator">&lt;</span><span class="token plain">YOUR_MESSAGE</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">--provider </span><span class="token operator">&lt;</span><span class="token plain">PROVIDER</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You need the attestation signer key available and unlocked on your local machine.</p><p>You may wish to do this once for each provider you have configured (i.e. <code>--provider=messagebird</code>). If the <code>provider</code> option is not recognized, please upgrade <code>celocli</code>.</p><p>For <code>twilio</code>, please note the following to test the SMS vs. verify API from v1.5.0 onwards:</p><ul><li><code>--provider=twilioverify</code> (v1.5.0+)</li><li><code>--provider=twiliomessaging</code> (v1.5.0+)</li><li><code>--provider=twilio</code> (up to v1.4.0)</li></ul><p>Note that this does not use an identical code path to real attestations (since those require specific on-chain state) so this endpoint should not be used in place of monitoring logs and metrics.</p><p>You should receive an SMS, and the Attestation Service should log messages indicating that the message was <code>Sent</code> and then, if delivery reports can be made successfully, <code>Delivered</code>. Depending on the provider, you may receive several callbacks as the message progresses through the network.</p><p>If this works then your attestation service should be successfully deployed!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring">Monitoring<a class="hash-link" href="#monitoring" title="Direct link to heading">â€‹</a></h2><p>It is important to monitor the Attestation Service and, if using a full node for key management, also <a href="/validator/monitoring">monitor the full node</a> that it depends on.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="logging">Logging<a class="hash-link" href="#logging" title="Direct link to heading">â€‹</a></h3><p>The Attestation Service provides JSON-format structured logs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="healthcheck">Healthcheck<a class="hash-link" href="#healthcheck" title="Direct link to heading">â€‹</a></h3><p>The <code>/healthz</code> endpoint will respond with status <code>200</code> when all of the following are true: the attestation signer key is available and unlocked, the node is not syncing, the latest block is recent, and the database is accessible. Otherwise it will respond with status <code>500</code>.</p><p>Use this endpoint when configuring a load balancer in front of multiple instances. The results of the last healthcheck are reported via the <code>attestation_service_healthy</code> metric.</p><p>Attestation Service also has a <code>/status</code> endpoint for configuration information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="metrics">Metrics<a class="hash-link" href="#metrics" title="Direct link to heading">â€‹</a></h3><p>Attestation Service exposes the following Prometheus format metrics at <code>/metrics</code> for attestations made. Please note that metrics are per instance.</p><p>Please note that monitoring endpoints including metrics are exposed as a path on the usual host port. This means they are public by default. If you want metrics to be internal only, you will need to configure a load balancer appropriately.</p><p>Metrics for the service:</p><ul><li><code>attestation_service_healthy</code>: Gauge with value <code>0</code> or <code>1</code> indicating whether the instance failed or passed its last <a href="#healthcheck">healthcheck</a>. Calls to <code>/healthz</code> update this gauge, and the process also runs a background healthcheck every minute. It is strongly recommended that you monitor this metric.</li></ul><p>Metrics for attestation requests:</p><ul><li><p><code>attestation_requests_total</code>: Counter for the number of attestation requests.</p></li><li><p><code>attestation_requests_rerequest</code>: Counter for the number of attestation re-requests. A client that rerequests the same attestation is similar to the service receiving a delivery failure notification.</p></li><li><p><code>attestation_requests_already_sent</code>: Counter for the number of attestation requests that were received but dropped because the local database records that they have already been completed.</p></li><li><p><code>attestation_requests_wrong_issuer</code>: Counter for the number of attestation requests that were received but dropped because they specified the incorrect validator.</p></li><li><p><code>attestation_requests_without_incomplete_attestation</code>: Counter for the number of attestation requests that were received but when querying the blockchain no matching incomplete attestation could be found.</p></li><li><p><code>attestation_requests_valid</code>: Counter for the number of requests received that are for the correct issuer and an incomplete attestation exists.</p></li><li><p><code>attestation_requests_attestation_errors</code>: Counter for the number of requests for which producing the attestation failed. This could be due to phone number or salt that does not match the hash, or the attestation was recorded fewer than 4 blocks ago.</p></li><li><p><code>attestation_requests_unable_to_serve</code>: Counters for the number of requests that could not be served because no SMS provider was configured for the phone number in the request. Label <code>country</code> breaks down the count by country code.</p></li><li><p><code>attestation_requests_number_type</code>: Counter for attestation requests by the type of the phone number. Label <code>country</code> breaks down the counny by country code. Label <code>type</code> has values including: <code>fixed_line</code>, <code>mobile</code>, <code>fixed_line_or_mobile</code>, <code>toll_free</code>, <code>premium_rate</code>, <code>shared_cost</code>, <code>voip</code>, <code>personal_number</code>, <code>pager</code>, <code>uan</code>, <code>voicemail</code>, <code>unknown</code>.</p></li><li><p><code>attestation_requests_sent_sms</code>: Counter for the number of SMS successfully sent.</p></li><li><p><code>attestation_requests_failed_to_send_sms</code>: Counter for the number of SMS that failed to send.</p></li><li><p><code>attestation_requests_believed_delivered_sms</code>: Counter for the number of SMS that were eventually delivered, or believed to be delivered after a timeout without hearing about delivery failure.</p></li><li><p><code>attestation_requests_unexpected_errors</code>: Counter for the number of unexpected errors.</p></li></ul><p>The following metrics track each delivery attempt. Each client request for an attestation may result in several delivery attempts, at most <code>MAX_DELIVERY_ATTEMPTS</code> configured for that country:</p><ul><li><p><code>attestation_attempts_delivery_status</code>: Counter for delivery attempts made. Label <code>country</code> breaks down the count by country code. Label <code>provider</code> identifies the provider. Label <code>status</code> identifies the outcome:</p><ul><li><p><code>Created</code>: The request was accepted by the provider.</p></li><li><p><code>Queued</code>: The SMS is buffered or queued, but still in flight.</p></li><li><p><code>Upstream</code>: The SMS was passed to an upstream carrier.</p></li><li><p><code>Delivered</code>: A final delivery receipt was received indicating the SMS was succesfully delivered.</p></li></ul></li><li><p><code>attestation_attempts_delivery_error_codes</code>: Counter for delivery attempts made. Label <code>country</code> breaks down the count by country code. Label <code>provider</code> identifies the provider. Label <code>code</code> identifies the provider-specific error codes: see <a href="https://www.twilio.com/docs/api/errors#3-anchor" target="_blank" rel="noopener noreferrer">Twilio error codes</a> and <a href="https://developer.nexmo.com/messaging/sms/guides/delivery-receipts#dlr-error-codes" target="_blank" rel="noopener noreferrer">Nexmo error codes</a> for more details.</p></li></ul><p>Administrative metrics:</p><ul><li>The <code>attestation_provider_balance</code> tracks the value of the balance of accounts at supported providers. Label <code>provider</code> identifies the provider. This is currently only supported for Nexmo, and is off by default but can be enabled by setting <code>NEXMO_ACCOUNT_BALANCE_METRIC</code>. The metric is populated as a value in the account currency, e.g USD, and only once a successful SMS has been delivered by that provider.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-responses">Error Responses<a class="hash-link" href="#error-responses" title="Direct link to heading">â€‹</a></h3><p>Here is a list of the error codes and messages returned by the Attestation Service and what they mean. This can be helpful when looking through raw attestation service logs. In addition to the error codes listed below, the service also returns <code>500</code> for <code>Unknown Error</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="422-unprocessable-entity">422, Unprocessable Entity<a class="hash-link" href="#422-unprocessable-entity" title="Direct link to heading">â€‹</a></h4><ul><li><code>Mismatching issuer, I am ${address}</code> - The attestation request references an issuer address that does not match that of the AS that actually received the request.</li><li><code>NO_INCOMPLETE_ATTESTATION_FOUND_ERROR / &#x27;No incomplete attestation found&#x27;</code> - The Attestations contract has no record that this AS was randomly assigned as an issuer for the given account/identifier pair.</li><li><code>ATTESTATION_ERROR / &#x27;Valid attestation could not be provided&#x27;</code> - A call to validateAttestationCode in the Attestations contract has failed. This method checks that (1) there is a non-expired incomplete attestation assigned to the issuer whose signature constitutes the given attestation code.</li><li><code>&#x27;Invalid securityCodePrefix&#x27;</code> - A security code prefix with an incorrect length was provided in the attestation request.</li><li><code>&#x27;Invalid smsRetrieverAppSig&#x27;</code> - The provided smsRetrieverAppSig does not match the regex <code>&#x27;^[\\w+]{5,12}$&#x27;</code></li><li><code>&#x27;Attestation can no longer be re-requested&#x27;</code> - The user is re-requesting an attestation that the AS thinks was completed too long ago for it to accept the re-request.</li><li><code>&#x27;Delivery attempts exceeded&#x27;</code> - The AS has attempted to deliver this attestation to the user too many times and will not try again.</li><li><code>ErrorMessages.NO_PROVIDER_SETUP / &#x27;No provider was setup for this phone number&#x27;</code> - The AS has not setup an SMS provider</li><li><code>ErrorMessages.INVALID_SIGNATURE / &#x27;Invalid signature provided&#x27;</code> - The signature provided in a <code>AttestationServiceTestRequest</code> was not generated by either the AS&#x27;s account address or attestation signer address.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="404-not-found">404, Not Found<a class="hash-link" href="#404-not-found" title="Direct link to heading">â€‹</a></h4><ul><li><code>&#x27;Attestation not found&#x27;</code> - The attestation the user is attempting to complete could not be found in the AS&#x27;s database.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="403-forbidden">403, Forbidden<a class="hash-link" href="#403-forbidden" title="Direct link to heading">â€‹</a></h4><ul><li><code>&#x27;Security code attempts exceeded&#x27;</code> - The user has attempted to complete the attestation with an incorrect security code too many times. The attestation can no longer be completed.</li><li><code>&#x27;Invalid security code&#x27;</code> - The user has attempted to complete the attestation with an incorrect security code.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="401-unauthorized">401, Unauthorized<a class="hash-link" href="#401-unauthorized" title="Direct link to heading">â€‹</a></h4><ul><li><code>&#x27;Missing authentication&#x27;</code> - the authentication header is missing from the request</li><li><code>&#x27;Invalid signature&#x27;</code> - The authentication header failed signature verification. It should be signed by either the account&#x27;s DEK or wallet key.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="blockchain">Blockchain<a class="hash-link" href="#blockchain" title="Direct link to heading">â€‹</a></h3><p>The number of requested and entirely completed attestations is in effect recorded on the blockchain. The values can be seen at <a href="https://explorer.celo.org" target="_blank" rel="noopener noreferrer">Celo Explorer</a>: enter the Validator&#x27;s address and click the &#x27;Celo Info&#x27; tab.</p><p><a href="https://thecelo.com/?tab=attestations" target="_blank" rel="noopener noreferrer">TheCelo</a> tracks global attestation counts and success rates, and shows detailed information about recent attestation attempts.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="attestation-service-dashboard">Attestation Service Dashboard<a class="hash-link" href="#attestation-service-dashboard" title="Direct link to heading">â€‹</a></h3><p>After your service is up and running, you can monitor its performance using the public <a href="https://metabase.celo-networks-dev.org/public/dashboard/b0a27650-1d62-4645-81d7-26ff7546ff0d?date_filter=past2weeks~" target="_blank" rel="noopener noreferrer">Attestation Service Dashboard</a>. Enter your validator address in the top right search bar to view your service&#x27;s stats. This dashboard can also be useful for troubleshooting various issues that will arise with certain geographic regions or providers.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/celo-org/docs/edit/main/docs/validator/attestation.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/validator/run/baklava"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Run Baklava Testnet Validator on Celo</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/validator/key-management/summary"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Celo Key Management Summary</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-an-attestation-service" class="table-of-contents__link toc-highlight">What is an Attestation Service?</a></li><li><a href="#outline" class="table-of-contents__link toc-highlight">Outline</a></li><li><a href="#recent-releases" class="table-of-contents__link toc-highlight">Recent releases</a></li><li><a href="#deployment-architecture" class="table-of-contents__link toc-highlight">Deployment Architecture</a></li><li><a href="#sms-providers" class="table-of-contents__link toc-highlight">SMS Providers</a><ul><li><a href="#twilio" class="table-of-contents__link toc-highlight">Twilio</a></li><li><a href="#nexmo" class="table-of-contents__link toc-highlight">Nexmo</a></li><li><a href="#messagebird" class="table-of-contents__link toc-highlight">MessageBird</a></li></ul></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a><ul><li><a href="#configuring-key-management" class="table-of-contents__link toc-highlight">Configuring Key Management</a></li><li><a href="#database-configuration" class="table-of-contents__link toc-highlight">Database Configuration</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li><li><a href="#registering-metadata" class="table-of-contents__link toc-highlight">Registering Metadata</a></li><li><a href="#running-the-attestation-service" class="table-of-contents__link toc-highlight">Running the Attestation Service</a><ul><li><a href="#recommended-running-the-attestation-service-v140" class="table-of-contents__link toc-highlight">(recommended) Running the Attestation Service v1.4.0+</a></li><li><a href="#running-the-attestation-service-pre-v140" class="table-of-contents__link toc-highlight">Running the Attestation Service pre-v1.4.0</a></li><li><a href="#delivery-receipts" class="table-of-contents__link toc-highlight">Delivery Receipts</a></li><li><a href="#test-endpoint" class="table-of-contents__link toc-highlight">Test Endpoint</a></li></ul></li><li><a href="#monitoring" class="table-of-contents__link toc-highlight">Monitoring</a><ul><li><a href="#logging" class="table-of-contents__link toc-highlight">Logging</a></li><li><a href="#healthcheck" class="table-of-contents__link toc-highlight">Healthcheck</a></li><li><a href="#metrics" class="table-of-contents__link toc-highlight">Metrics</a></li><li><a href="#error-responses" class="table-of-contents__link toc-highlight">Error Responses</a></li><li><a href="#blockchain" class="table-of-contents__link toc-highlight">Blockchain</a></li><li><a href="#attestation-service-dashboard" class="table-of-contents__link toc-highlight">Attestation Service Dashboard</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a href="https://github.com/celo-org/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docs GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/guidelines">Contributors</a></li><li class="footer__item"><a href="https://forum.celo.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://chat.celo.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/CeloOrg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.reddit.com/r/celo/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://share.hsforms.com/1Qrhush1vSA2WIamd_yL4ow53n4j" target="_blank" rel="noopener noreferrer" class="footer__link-item">Celo Signal Mailing List<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://calendar.google.com/calendar/u/0/embed?src=c_9su6ich1uhmetr4ob3sij6kaqs@group.calendar.google.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Celo Signal Calendar<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://calendar.google.com/calendar/u/0/r?cid=c_asn0b4c1emdgsq3urlh2ei2dig@group.calendar.google.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Calendar<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Ecosystem</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://celo.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Celo Foundation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://medium.com/celoorg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://thecelo.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">The Celo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://celohub.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Celo Hub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://celo.org/jobs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Celo Foundation, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ca65f9cc.js"></script>
<script src="/assets/js/main.7b80d792.js"></script>
</body>
</html>